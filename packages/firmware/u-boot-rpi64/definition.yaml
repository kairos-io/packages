name: "u-boot-rpi64"
category: "firmware"
version: "2025.10-1.1"
labels:
  autobump.strategy: "custom"
  autobump.string_replace: '{ "prefix": "" }'
  autobump.prefix: "prefix"
  autobump.hook: |
    curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/$(curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/repodata/repomd.xml | dasel -r xml 'repomd.data.[0].location.-href') | zstd -d - | dasel -r xml -w json | jq '.metadata.package[] | select(.name=="u-boot-rpiarm64") | select(.arch!="src").version | map(.)[2] + "-" +  map(.)[1]' -r | tail -n1
  autobump.version_hook: |
    curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/$(curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/repodata/repomd.xml | dasel -r xml 'repomd.data.[0].location.-href') | zstd -d - | dasel -r xml -w json | jq '.metadata.package[] | select(.name=="u-boot-rpiarm64") | select(.arch!="src").version | map(.)[2] + "-" +  map(.)[1]' -r | tail -n1
  # We do assume that checksum is sha256
  autobump.checksum_hook: |
    curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/$(curl -s -L https://download.opensuse.org/ports/aarch64/tumbleweed/repo/oss/repodata/repomd.xml | dasel -r xml 'repomd.data.[0].location.-href') | zstd -d - | dasel -r xml -w json | jq '.metadata.package[] | select(.name=="u-boot-rpiarm64") | select(.arch!="src").checksum."#text"' -r | tail -n1
  package.version: "2025.10-1.1"
  package.checksum: "a548761121d4b78bee03a3636d8e4f294e83cacbc8a5c0dbc24e552cb34a12644b86e5ee6d85ea7ad4e89a8db7201989cc352907a16cb0ed59017247ecffda06"
